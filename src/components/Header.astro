---
const email = "dsg4857@gmail.com";
---

<header class="bg-white/40 dark:bg-neutral-900/40 fixed w-full py-4 top-0 backdrop-blur-md z-10">
  <nav class="container mx-auto px-4 md:px-6 flex flex-row">
    <button id="menu-toggle" class="md:hidden text-black dark:text-white focus:outline-none z-20">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="hamburger-icon"
      >
        <line x1="3" y1="12" x2="21" y2="12"></line>
        <line x1="3" y1="6" x2="21" y2="6"></line>
        <line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="close-icon hidden"
      >
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    </button>
  </nav>
  
  <!-- Menú móvil separado del contenedor principal para ocupar todo el ancho -->
  <div 
  id="menu"
  class="hidden md:flex md:justify-center fixed md:static top-16 left-0 w-full h-screen md:h-auto bg-white dark:bg-neutral-800 dark:md:bg-transparent md:bg-transparent md:w-auto md:top-auto md:backdrop-blur-none backdrop-blur-md z-10 -translate-y-4 md:translate-y-0"
>
    <ul class="flex flex-col md:flex-row items-center justify-center md:justify-start w-full md:w-auto gap-8 md:gap-6 pt-8 md:pt-0">
      <li class="py-2 md:py-0">
        <a
          href="/"
          class="font-semibold relative after:block after:content-[''] after:w-full after:border-b-2 after:border-black after:scale-x-0 hover:after:scale-x-100 after:transition-transform after:duration-250 after:ease-in-out dark:after:border-white text-neutral-800 dark:text-white"
          >Inicio</a
        >
      </li>
      <li class="py-2 md:py-0">
        <a
          href="/about"
          class="font-semibold relative after:block after:content-[''] after:w-full after:border-b-2 after:border-black after:scale-x-0 hover:after:scale-x-100 after:transition-transform after:duration-250 after:ease-in-out dark:after:border-white text-neutral-800 dark:text-white"
          >Sobre mi</a
        >
      </li>
      <li class="py-2 md:py-0">
        <a
          href="/projects"
          class="font-semibold relative after:block after:content-[''] after:w-full after:border-b-2 after:border-black after:scale-x-0 hover:after:scale-x-100 after:transition-transform after:duration-250 after:ease-in-out dark:after:border-white text-neutral-800 dark:text-white"
          >Proyectos</a
        >
      </li>
      <li class="py-2 md:py-0">
        <a
          href="/contact"
          class="font-semibold relative after:block after:content-[''] after:w-full after:border-b-2 after:border-black after:scale-x-0 hover:after:scale-x-100 after:transition-transform after:duration-250 after:ease-in-out dark:after:border-white text-neutral-800 dark:text-white"
          >Contacto</a
        >
      </li>
      <li>
        <button
          id="darkmodeButton"
          type="button"
          class="group border-2 px-4 rounded-full transition-all hover:bg-gray-600 hover:text-white text-neutral-800 dark:text-white"
        >
          <div class="flex">
            <svg
              id="moon"
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-moon group-hover:text-white"
            >
              <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" />
            </svg>
            <svg
              id="sun"
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="white"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-sun-moon hidden"
            >
              <path d="M12 8a2.83 2.83 0 0 0 4 4 4 4 0 1 1-4-4"></path>
              <path d="M12 2v2"></path>
              <path d="M12 20v2"></path>
              <path d="m4.9 4.9 1.4 1.4"></path>
              <path d="m17.7 17.7 1.4 1.4"></path>
              <path d="M2 12h2"></path>
              <path d="M20 12h2"></path>
              <path d="m6.3 17.7-1.4 1.4"></path>
              <path d="m19.1 4.9-1.4 1.4"></path>
            </svg>
          </div>
        </button>
      </li>
    </ul>
  </div>
</header>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const menuToggle = document.getElementById("menu-toggle");
    const menu = document.getElementById("menu");
    const hamburgerIcon = document.querySelector(".hamburger-icon");
    const closeIcon = document.querySelector(".close-icon");

    if (menuToggle && menu && hamburgerIcon && closeIcon) {
      menuToggle.addEventListener("click", function () {
        menu.classList.toggle("hidden");
        hamburgerIcon.classList.toggle("hidden");
        closeIcon.classList.toggle("hidden");
      });

      const menuLinks = menu.querySelectorAll("a");
      menuLinks.forEach((link) => {
        link.addEventListener("click", function () {
          if (window.innerWidth < 768) {
            menu.classList.add("hidden");
            hamburgerIcon.classList.remove("hidden");
            closeIcon.classList.add("hidden");
          }
        });
      });

      window.addEventListener("resize", function () {
        if (window.innerWidth >= 768) {
          menu.classList.remove("hidden");
        } else if (!hamburgerIcon.classList.contains("hidden")) {
          menu.classList.add("hidden");
        }
      });
    }

    const toggleDark = document.querySelector("#darkmodeButton");
    const moon = document.getElementById("moon");
    const sun = document.getElementById('sun');

    toggleDark?.addEventListener('click',()=>{
      document.documentElement.classList.toggle('dark');
      moon?.classList.toggle('hidden');
      sun?.classList.toggle('hidden');
    })


  });
</script>
